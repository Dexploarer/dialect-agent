# AI Gateway (Vercel) Configuration
# Required for routing all model traffic via the AI Gateway.
# URL is optional; API key is required. Order is optional.
AI_GATEWAY_API_KEY=your-ai-gateway-api-key-here
# Optional: override base URL for Gateway; defaults to https://ai-gateway.vercel.sh/v1/ai
AI_GATEWAY_URL=https://ai-gateway.vercel.sh/v1/ai
# Comma-separated provider routing preference (optional). Example: bedrock,anthropic,openai
AI_GATEWAY_ORDER=

# Default Model (namespaced for AI SDK v5 + Gateway)
# Examples: openai/gpt-4o, anthropic/claude-3-5-sonnet-20241022, xai/grok-3-beta
AI_DEFAULT_MODEL=openai/gpt-4o

# Database Configuration
DATABASE_URL=./data/app.db

# Server Configuration
PORT=3000
HOST=localhost
CORS_ORIGIN=http://localhost:3001

# Solana Configuration
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_WS_URL=wss://api.devnet.solana.com

# Dialect Configuration
DIALECT_API_URL=https://api.dialect.to
DIALECT_ALERTS_BASE_URL=https://alerts-api.dial.to
DIALECT_WEBHOOK_URL=/api/webhooks/dialect
DIALECT_API_KEY=your-dialect-api-key-here
DIALECT_APP_ID=your-dialect-app-id-here
DIALECT_CLIENT_KEY=your-dialect-client-key-here

# Dialect Webhook Verification (optional but recommended)
# If set, incoming webhook requests will be verified using HMAC-SHA256 of the raw body
# with this secret. You can configure the header name and encoding if Dialect specifies them.
DIALECT_WEBHOOK_SECRET=change-me
DIALECT_WEBHOOK_SIGNATURE_HEADER=X-Dialect-Signature
DIALECT_WEBHOOK_SIGNATURE_ENCODING=hex # or base64
DIALECT_WEBHOOK_STRICT=false # if true, request is rejected (401) on signature mismatch

# Embedding Model (Gateway namespaced id)
EMBEDDING_MODEL=openai/text-embedding-3-small

# Web Fetch Tool Configuration
# If unrestricted is true, any https/http host is allowed. Otherwise, only allowlist hosts are permitted.
WEB_FETCH_UNRESTRICTED=false
# Comma-separated list of allowed domains (e.g., example.com, docs.vercel.ai)
WEB_FETCH_ALLOWLIST=
WEB_FETCH_MAX_BYTES=1000000
WEB_FETCH_TIMEOUT=10000

# Queue / Redis (optional; falls back to in-memory)
REDIS_URL= # e.g. rediss://default:password@us1-sticky-redis.upstash.io:6379
QUEUE_DIALECT_CONCURRENCY=4
QUEUE_EXEC_CONCURRENCY=8
# Notes:
# - DIALECT_CLIENT_KEY (pk_...) must be present on the backend for inbox/auth requests.
# - DIALECT_APP_ID is required for sending alerts.
# - REDIS_URL should be a standard Redis instance (Bull requires blocking commands). Upstash serverless may not work.
